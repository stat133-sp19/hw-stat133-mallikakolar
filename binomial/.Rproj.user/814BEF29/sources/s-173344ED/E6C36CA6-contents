---
title: "lec wk 13"
author: "Mallika Kolar"
date: "4/29/2019"
output: html_document
---

pkgname/
  DESCRIPTION        --> metadata
  NAMESPACE          --> export? import?
  R/ 
    script1.R
    script2.R
  man/
    function1.Rd     --> r documentation files (have specific syntax)
    function2.Rd     --> have technical manual documentation for it
  tests/
  vignettes/         --> user friendly tutorial, rather than technical notation (can show simple                               examples)
  pkgname.Rproj      --> text file
  .Rbuildignore      --> text file
  .Rhistory
  .README.md
  .gitignore
  devtools-flow.R
  
## Handling Package dependencies
ex: plot method 
    plot.variance <- function(){
        ### code with ggplot functions
    }
    
    R/
      script1.R
      script2.R
      script3.R
      pkgname-package.R    --> create another R script with your package name
                           --> include oxygen comments
          #' @import gglot2
          #' @importFrom stringr str_c
          #' @importFrom ABC abc xyz efg  -->>> (importFrom package function function function)
          #' @name pkgname
          
## packaging flow
using functions from devtools
  - the first time you'll use devtool
      pkgname/              
        DECRIPTION
        NAMESPACE     
        R/
        man/
        
      ** you need to remove NAMESPACE and all .Rd files from man/ directory
   
  - run in R console    
      devtools::document()   --> devtools will create the documents again and will automatically                                        update
      devtools::check_man()
      devtools::build()      --> build's the package at the end
            pkgname.0.1.0.tar.ge
      
## sharing
- share (ex: email) the tarball
- github (put package in its own github repository in my account) 
    pkgname/   --> name of repository
    
- devtools::install_github("username/pkgname")  --> can download package if the repository is public

- CRAN (not for workout 3)

## DESCRIPTION
- License: GPL-2 (verson 2 general pulic license, may have version 3) 
    - other options for licenses
          choosealicense.com
          opensource.org
** do NOT use a creative commons


## data analysis cycle

data prep <--> data analysis <--> report/communication <--> data prep <--> etc. 

raw data sets--> data cleaning    --> core analysis -->  report
                 data processing                         slides
                     manipulation                        book
                     wrangling                           shiny app
                     tidying                             etc. 
                     
data objects--> vecotrs
                arrays
                lists
                data.frames
                tibbles

project/
  README.md  (metadata: describes what it is about)
  data/
    rawdata/    (not possible if data sets are very large) --> data dictionary should have
    cleandata/                                             --> metadata for both (descroptions)
  output/
    # tables
    # summaries
  images/
  code/
    functions/
    tests/
    scripts/
  report/
    doc.RMD   # 
    
data prep
- regex
- tidy data
- aggregations
- group_by
- select
- filter
- subset
- reshaping

exporting (commands)
- write, sink, ggsave

For reproducibility
- files & directories
    - relative paths
    - data.org priciples
          Karl Broman
          Paul Harrel "intro to data technologies"

    
  
  
              
    
